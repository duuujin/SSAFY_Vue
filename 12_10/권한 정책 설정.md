# 권한 정책 설정

1. 전역 설정
2. View 함수 별 설정

# 1. 전역 설정

- 프로젝트 전체에 적용되는 기본 권한 방식을 정의
- DEAFULT_PERMISSION_CLASSES를 사용
- 기본값: rest_framwork.permissions.AllowAny

# 2. View 함수 별 설정

- permission_classes 데코레이터를 사용
- 개별 view에 지정하여 재정의

# DRF가 제공하는 권한 정책

1. IsAuthenticated
   - 인증된(로그인한) 사용자만 접근을 허용
2. IsAdminUser
   - 스태크 권한(is_staff=True)을 가진 관리자 사용자만 접근을 허용
3. IsAuthenticatedOrReadOnly
   - 인증된 사용자는 모든 요청(읽기/쓰기)을 허용하고, 비인증 사용자는 읽기 전용 요청만 허용
4. AllowAny
   - 아무런 제한 없이 모든 사용자의 접근을 허용
5. ...

# 1. IsAuthenticated

- 개념
  - 인증된 사용자만 접근을 허용하는 권한 클래스
  - 인증되지 않은 사용자의 모든 요청을 거부
- 특징
  - request.user가 존재하고 인증된 상태인지 확인
  - 보호해야 할 중요한 데이터나 리소스에 적합(예: 회원 전용 페이지, 결제, 프로필 수정등)

# 2. IsAdminUser

- 개념
  - 관리자(is_staff=True) 권한을 가진 사용자만 접근을 허용하는 권한 클래스
  - 일반 사용자와 비인증 사용자의 모든 요청을 거부
- 특징
  - request.user.is_staff 속성 값이 True인지 확인하여 권한을 검사
  - 회원 목록 조회, 데이터 통계 등 사이트 관리자에게만 노출되어야 하는 민감한 API에 적합

# 3. IsAuthenticatedOrReadOnly

- 개념
  - 비인증 사용자는 읽기만 허용하고, 인증된 사용자는 모든 요청(읽기/쓰기)을 허용하는 권한 클래스
- 특징
  - 요청 메서드가 GET, HEAD, OPTIONS와 같은 안전한 메서드일 경우 무조건 허용하고, 그 외 메서드(POST,PUT 등)는 사용자의 인증 여부를 확인
  - 게시글 목록처럼 누구나 볼 수 있지만, 글 작성이나 수정은 회원만 가능한 API에 주로 적용

# 4. AllowAny

- 개념
  - 모든 요청을 무조건 허용하는 권한 클래스
  - 인증된 사용자든, 인증되지 않은 사용자든 상관없이 모두에게 접근을 허용
- 특징
  - 권한 검사(Authorization) 로직을 전혀 수행하지 않음
  - API 엔드포인트를 완전히 공개하고 싶을 때 사용
  - 보안이 필요한 리소스에는 부적합하므로, 회원가입, 로그인 또는 공개 게시글 조회 등 공개 API에 주로 적용
